#:kivy 1.10.1

ScreenManager:
	id: sm
	FolderSelectScreen:
		id: folder_select
		name: 'folder_select'
		manager: 'sm'
	ProgressScreen:
		id: progress
		name: 'progress'
		manager: 'sm'
	EndScreen:
		id: finish
		name: 'finish'
		manager: 'sm'

<FolderSelectScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
        	id: title
            font_size: 100
            text: "Bird's Eye View"
            top: root.height * 3 / 4
            center_x: root.width / 2

        Label:
        	id: path
        	font_size: 50
        	text: 'Please choose a directory'

        BoxLayout:
            orientation: 'vertical'
            center_x: root.width / 2
            center_y: root.height * 1 / 3
            size: (400, 400)
            height: 100
            Button:
                text: "Choose folder"
                on_release: root.show_load()

            Button:
                text: "Start"
                on_release: app.root.current = 'progress'

<ProgressScreen>:
	BoxLayout:
		orientation: 'vertical'
		Label:
			id: progress
			font_size: 60
			text: "Processing..."
			top: root.height / 2
			center_x: root.width / 2

<LoadDialog>:
    BoxLayout:
		size: root.size
        pos: root.pos
        orientation: 'vertical'
        FileChooserListView:
            id: filechooser
            dirselect: True

        BoxLayout:
            size_hint_y: None
            height: 70
            Button:
                text: 'Cancel'
                on_release: root.cancel()

            Button:
                text: 'Load'
                on_release: root.load(filechooser.path, filechooser.selection)